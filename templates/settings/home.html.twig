{% extends "base.html.twig" %}

{% block title %}Settings{% endblock %}

{% block body %}
	<h2 class="text-xl font-medium mt-4">{{ 'settings.title' | trans }}</h2>
	<div class="flex flex-row-reverse">
		<a href="{{ path('home') }}" class="px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-75 transition-transform">
			<i class="fa fa-times"></i>
		</a>
	</div>
    <div class="mx-auto mt-4 rounded">
		<!-- Tabs -->
		<ul id="tabs" class="inline-flex w-full px-1 pt-2 ">
			<li class="px-4 py-2 font-semibold text-gray-800 rounded-t opacity-50 border-b-2 border-blue-400 -mb-px">
				<a id="default-tab" href="#first">COGS</a>
			</li>
			<li class="px-4 py-2 font-semibold text-gray-800 rounded-t opacity-50">
				<a href="#second">Shipping</a>
			</li>
			<li class="px-4 py-2 font-semibold text-gray-800 rounded-t opacity-50">
				<a href="#third">Marketing</a>
			</li>
			<li class="px-4 py-2 font-semibold text-gray-800 rounded-t opacity-50">
				<a href="#fourth">Custom Costs</a>
			</li>
		</ul>

		<!-- Tab Contents -->
		<div id="tab-contents">
			<div id="first" class="p-4">
				{% include "settings/cogs.html.twig" %}
			</div>
			<div id="second" class="hidden p-4">
			Second tab
			</div>
			<div id="third" class="hidden p-4">
			Third tab
			</div>
			<div id="fourth" class="hidden p-4">
			Fourth tab
			</div>
		</div>
	</div>

<script>
	let tabsContainer = document.querySelector("#tabs");

	let tabTogglers = tabsContainer.querySelectorAll("a");
	console.log(tabTogglers);

	tabTogglers.forEach(function(toggler) {
	toggler.addEventListener("click", function(e) {
		e.preventDefault();

		let tabName = this.getAttribute("href");

		let tabContents = document.querySelector("#tab-contents");

		for (let i = 0; i < tabContents.children.length; i++) {

		tabTogglers[i].parentElement.classList.remove("border-blue-400", "border-b",  "-mb-px", "opacity-100");  tabContents.children[i].classList.remove("hidden");
		if ("#" + tabContents.children[i].id === tabName) {
			continue;
		}
		tabContents.children[i].classList.add("hidden");

		}
		e.target.parentElement.classList.add("border-blue-400", "border-b-4", "-mb-px", "opacity-100");
	});
	});

	document.getElementById("default-tab").click();

</script>
{% endblock %}
